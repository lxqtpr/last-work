<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞–∑—Ä–µ–∂—å —Ñ–∏–≥—É—Ä—É - –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="game-page">
    <div class="game-header">
        <div class="player-info">
            <a href="index.html" class="player-name" style="text-decoration: none; cursor: pointer;">üë§ <span id="currentPlayer"></span></a>
            <span class="difficulty">üìä –£—Ä–æ–≤–µ–Ω—å: <span id="currentDifficulty"></span></span>
        </div>
        <div class="game-stats">
            <div class="stat-item">
                <span class="stat-label">‚è±Ô∏è –í—Ä–µ–º—è:</span>
                <span class="stat-value timer" id="timer">60</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">üéØ –û—á–∫–∏:</span>
                <span class="stat-value score" id="score">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">üìç –£—Ä–æ–≤–µ–Ω—å:</span>
                <span class="stat-value" id="currentLevel">1</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">‚ù§Ô∏è –ñ–∏–∑–Ω–∏:</span>
                <span class="stat-value lives" id="lives">3</span>
            </div>
            <button id="goToMenu" class="btn-menu-small">üè† –ú–µ–Ω—é</button>
        </div>

    </div>

    <div class="game-container">
        <div class="task-panel">
            <h2>–ó–∞–¥–∞–Ω–∏–µ:</h2>
            <div id="taskDescription" class="task-text"></div>
            <div class="controls">
                <button id="clearCuts" class="btn-small">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Ä–∞–∑—Ä–µ–∑—ã</button>
                <button id="submitCuts" class="btn-primary-small" disabled>‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                <button id="skipLevel" class="btn-warning-small">‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å (-50 –æ—á–∫–æ–≤)</button>
            </div>
            <div class="cuts-info">
                <p>–†–∞–∑—Ä–µ–∑–æ–≤ —Å–¥–µ–ª–∞–Ω–æ: <span id="cutsCount">0</span> / <span id="cutsRequired">0</span></p>
            </div>
        </div>

        <div class="canvas-container">
            <canvas id="gameCanvas" width="800" height="800"></canvas>
            <div id="feedback" class="feedback"></div>
        </div>

        <div class="help-panel">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h3>
            <ul>
                <li><kbd>–õ–ö–ú</kbd> - –ù–∞—á–∞—Ç—å/–∑–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞–∑—Ä–µ–∑</li>
                <li><kbd>–ü–ö–ú</kbd> - –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞–∑—Ä–µ–∑</li>
                <li><kbd>–ü—Ä–æ–±–µ–ª</kbd> - –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ä–∞–∑—Ä–µ–∑—ã</li>
                <li><kbd>Enter</kbd> - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</li>
                <li><kbd>Esc</kbd> - –í—ã—Ö–æ–¥ –≤ –º–µ–Ω—é</li>
            </ul>
            <div class="hint-box">
                <h4>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:</h4>
                <p id="hintText">–ù–∞—á–Ω–∏—Ç–µ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ñ–∏–≥—É—Ä—ã –ø–æ–ø–æ–ª–∞–º</p>
            </div>
        </div>
    </div>

    <div id="levelCompleteModal" class="modal">
        <div class="modal-content">
            <h2>üéâ –£—Ä–æ–≤–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω!</h2>
            <p class="modal-score">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <span id="levelScore">0</span> –æ—á–∫–æ–≤</p>
            <div class="modal-buttons">
                <button id="nextLevel" class="btn-primary">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                <button id="menuFromLevel" class="btn-secondary">üè† –í –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <div id="gameOverModal" class="modal">
        <div class="modal-content">
            <h2 id="gameOverTitle">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
            <p class="modal-final-score">–ò—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: <span id="finalScore">0</span></p>
            <p class="modal-message" id="gameOverMessage"></p>
            <div class="modal-buttons">
                <button id="restartGame" class="btn-primary">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                <button id="viewResults" class="btn-secondary">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
            </div>
        </div>
    </div>

    <div id="nextLevelPopup" class="modal">
        <div class="modal-content">
            <h2>–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</h2>
            <p>–ì–æ—Ç–æ–≤ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?</p>

            <div class="modal-buttons">
                <button id="continueNextPopup" class="btn-primary">–î–∞</button>
                <button id="cancelNext" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/geometry.js"></script>
    <script src="js/game.js"></script>
</body>

</html>